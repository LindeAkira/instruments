{% extends 'layout.html' %}

{% block title %}Search Results{% endblock %}

{% block content %}
<div class="flash-messages">
    {% if error_message %}
        <div class="flash alert-danger">
            {{ error_message }}
        </div>
    {% endif %}
</div>

<div class="container">
    {% if search_term %}
        <h1>Search Results for "{{ search_term }}"</h1>
    {% endif %}
    {% if error_message %}
        <div class="alert alert-danger" role="alert">
            {{ error_message }}
        </div>
    {% else %}
        {% if results %}
            <ul class="instrument-list">
                {% for instrument in results %}
                <div class="instrument-button">
                    <a href="{{ url_for('instrument_details', instrument_id=instrument[0]) }}">
                        <img src="{{ instrument[2] }}" alt="{{ instrument[1] }} Image">
                        <span>{{ instrument[1] }}</span>
                    </a>
                </div>
                {% endfor %}
            </ul>
        {% else %}
            <p>No instruments found matching "{{ search_term }}".</p>
        {% endif %}
    {% endif %}
</div>
{% endblock %}
